{"ast":null,"code":"var _jsxFileName = \"/Users/mengxi/Programming/NimbleChatRoom/nimble_chat_room/src/components/ChatWindow/ChatBody.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\n// import { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatBody = ({\n  messages,\n  lastMessageRef,\n  onRouteChange,\n  username\n}) => {\n  _s();\n  //   const navigate = useNavigate();\n\n  const handleLeaveChat = () => {\n    // localStorage.removeItem('userName');\n    // navigate('/');\n    onRouteChange('signin');\n    window.location.reload();\n  };\n  useEffect(() => {\n    socket.on('messageResponse', data => setMessages([...messages, data]));\n  }, [socket, messages]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"chat__mainHeader\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Public Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"leaveChat__btn\",\n        onClick: handleLeaveChat,\n        children: \"LEAVE CHAT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message__container\",\n      children: [messages.map(message => message.name === username ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message__chats\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"sender__name\",\n          children: \"You\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message__sender\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 15\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message__chats\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: message.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message__recipient\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: lastMessageRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatBody, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ChatBody;\nexport default ChatBody;\nvar _c;\n$RefreshReg$(_c, \"ChatBody\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatBody","messages","lastMessageRef","onRouteChange","username","_s","handleLeaveChat","window","location","reload","socket","on","data","setMessages","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","message","name","text","id","ref","_c","$RefreshReg$"],"sources":["/Users/mengxi/Programming/NimbleChatRoom/nimble_chat_room/src/components/ChatWindow/ChatBody.js"],"sourcesContent":["import React, { useEffect, useState, useRef }  from 'react';\n// import { useNavigate } from 'react-router-dom';\n\nconst ChatBody = ({ messages, lastMessageRef, onRouteChange, username }) => {\n//   const navigate = useNavigate();\n\n  const handleLeaveChat = () => {\n    // localStorage.removeItem('userName');\n    // navigate('/');\n    onRouteChange('signin');\n    window.location.reload();\n  };\n\n  useEffect(() => {\n    socket.on('messageResponse', (data) => setMessages([...messages, data]));\n  }, [socket, messages]);\n\n  return (\n    <>\n      <header className=\"chat__mainHeader\">\n        <p>Public Room</p>\n        <button className=\"leaveChat__btn\" onClick={handleLeaveChat}>\n          LEAVE CHAT\n        </button>\n      </header>\n\n      {/*This shows messages sent from you*/}\n      <div className=\"message__container\">\n        {messages.map((message) =>\n          message.name === username ? (\n            <div className=\"message__chats\" key={message.id}>\n              <p className=\"sender__name\">You</p>\n              <div className=\"message__sender\">\n                <p>{message.text}</p>\n              </div>\n            </div>\n          ) : (\n            <div className=\"message__chats\" key={message.id}>\n              <p>{message.name}</p>\n              <div className=\"message__recipient\">\n                <p>{message.text}</p>\n              </div>\n            </div>\n          )\n        )}\n\n        {/*This is triggered when a user is typing*/}\n        {/* <div className=\"message__status\">\n          <p>Someone is typing...</p>\n        </div> */}\n\n        <div ref={lastMessageRef} />\n      </div>\n    </>\n  );\n};\n\nexport default ChatBody;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}